parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"tbdy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.displayMonth=exports.displayPercentages=exports.displayBudget=exports.clearFields=exports.deleteListItem=exports.addListItem=exports.getInput=void 0;var e={type:".add__type",description:".add__description",value:".add__value"},t=function(){return{type:document.querySelector(".add__type").value,description:document.querySelector(".add__description").value,value:parseFloat(document.querySelector(".add__value").value)}};exports.getInput=t;var n=function(e,t){var n=e.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),c=1*n;return"inc"===t?"+ ".concat(c):"- ".concat(c),n},c=function(e,t){var c,i;"inc"===t?(i=document.querySelector(".income__list"),c=' <div class="item" id="inc-%id%">\n      <div class="item__description">%description%</div>\n      <div class="box__value">\n      <div class="item__value item__value-income">+ %value%</div>\n      <div class="item__delete">\n      <svg class="icon-box-delete" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <use xlink:href="img/sprite.svg#icon-cancel-circle"></use>\n        </svg>\n      </div>\n      </div>\n      </div>'):"exp"===t&&(i=document.querySelector(".expenses__list"),c='<div class="item" id="exp-%id%">\n  <div class="item__description">%description%</div>\n  <div class="box__value">\n  <div class="item__value item__value-expense">- %value%</div>\n  <div class="item__percentage">21%</div>\n  <div class="item__delete">\n  <svg class="icon-box-delete">\n  <use xlink:href="img/sprite.svg#icon-cancel-circle"></use>\n    </svg>\n  </div>\n  </div>\n  </div>');var a=c.replace("%id%",e.id);a=(a=a.replace("%description%",e.description)).replace("%value%",n(e.value,t)),i.insertAdjacentHTML("beforeend",a)};exports.addListItem=c;var i=function(e){var t=document.getElementById(e);t.parentNode.removeChild(t)};exports.deleteListItem=i;var a=function(){var t=document.querySelectorAll("".concat(e.description,", ").concat(e.value));t.forEach(function(e){e.value=""}),t[0].focus()};exports.clearFields=a;var r=function(e){document.querySelector(".budget__value").textContent=n(e.budget),document.querySelector(".budget__income--value").textContent=n(e.totalInc),document.querySelector(".budget__expenses--value").textContent=n(e.totalExp);var t=document.querySelector(".budget__expenses--percentage");e.percent>0?t.textContent="".concat(e.percent,"%"):t.textContent="---"};exports.displayBudget=r;var d=function(e){document.querySelectorAll(".item__percentage").forEach(function(t,n){t.textContent=e[n]>0?"".concat(e[n],"%"):"---"})};exports.displayPercentages=d;var o=function(){var e=new Date,t=e.getDay(),n=e.getDate(),c=e.getMonth(),i=e.getFullYear();document.querySelector(".budget__title--month").textContent="".concat(n," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][c]," ").concat(i," (").concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t],")")};exports.displayMonth=o;
},{}],"JDu1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateLocalData=exports.deleteLocalData=exports.getLocalData=exports.localStorageData=exports.getBudget=exports.getPercentages=exports.calculatePercentages=exports.calculateBudget=exports.dataDeleteItem=exports.addItem=void 0;var e=require("./views.js");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var r=function(){function e(a,n,r){t(this,e),this.id=a,this.description=n,this.value=r,this.percentage=-1}return n(e,[{key:"calcPercentage",value:function(e){this.percentage=e>0?Math.round(this.value/e*100):-1}},{key:"getPercentage",value:function(){return this.percentage}}]),e}(),o=function e(a,n,r){t(this,e),this.id=a,this.description=n,this.value=r},c={allItems:{exp:[],inc:[]},totals:{exp:0,inc:0},budget:0,percentage:-1};console.log(c);var l=function(e,t,a){var n,l;return n=c.allItems[e].length>0?c.allItems[e][c.allItems[e].length-1].id+1:0,l="exp"===e?new r(n,t,a):new o(n,t,a),c.allItems[e].push(l),l};exports.addItem=l;var s=function(e,t){var a=c.allItems[e].map(function(e){return e.id}).indexOf(t);-1!==a&&c.allItems[e].splice(a,1)};exports.dataDeleteItem=s;var i=function(e){var t=0;c.allItems[e].forEach(function(e){t+=e.value}),c.totals[e]=t},u=function(){i("exp"),i("inc"),c.budget=c.totals.inc-c.totals.exp,c.totals.inc>0?c.percentage=Math.round(c.totals.exp/c.totals.inc*100):c.percentage=-1};exports.calculateBudget=u;var p=function(){c.allItems.exp.forEach(function(e){e.calcPercentage(c.totals.inc)})};exports.calculatePercentages=p;var g=function(){return c.allItems.exp.map(function(e){return e.getPercentage()})};exports.getPercentages=g;var d=function(){return{budget:c.budget,totalInc:c.totals.inc,totalExp:c.totals.exp,percent:c.percentage}};exports.getBudget=d;var f=function(){localStorage.setItem("data",JSON.stringify(c))};exports.localStorageData=f;var x=function(){return JSON.parse(localStorage.getItem("data"))};exports.getLocalData=x;var v=function(){localStorage.removeItem("data")};exports.deleteLocalData=v;var m=function(e){c.totals=e.totals,c.budget=e.budget,c.percentage=e.percentage};exports.updateLocalData=m;
},{"./views.js":"tbdy"}],"niua":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=void 0;var e=require("./views.js"),t=require("./model.js"),a=function(){(0,t.calculateBudget)();var a=(0,t.getBudget)();(0,e.displayBudget)(a)},i=function(){(0,t.calculatePercentages)();var a=(0,t.getPercentages)();(0,e.displayPercentages)(a)},n=function(){var n=(0,e.getInput)();if(console.log(n),""!==n.description&&!isNaN(n.value)&&n.value>0){var d=(0,t.addItem)(n.type,n.description,n.value);(0,e.addListItem)(d,n.type),(0,e.clearFields)(),a(),i(),(0,t.localStorageData)()}},d=function(n){var d=n.target.parentNode.parentNode.parentNode.id;if(console.log(d),d){var r=d.split("-"),c=r[0],o=parseInt(r[1]);(0,t.dataDeleteItem)(c,o),(0,e.deleteListItem)(d),a(),i(),(0,t.localStorageData)()}},r=function(){var a=(0,t.getLocalData)();if(a){(0,t.updateLocalData)(a),a.allItems.inc.forEach(function(a){var i=(0,t.addItem)("inc",a.description,a.value);(0,e.addListItem)(i,"inc")}),a.allItems.exp.forEach(function(a){var i=(0,t.addItem)("exp",a.description,a.value);(0,e.addListItem)(i,"exp")});var n=(0,t.getBudget)();(0,e.displayBudget)(n),i()}},c=function(){document.querySelector(".add__btn").addEventListener("click",n),document.addEventListener("keypress",function(e){13!==e.keyCode&&13!==e.which||n()}),document.querySelector(".container").addEventListener("click",d),(0,e.displayMonth)(),(0,e.displayBudget)({budget:0,totalInc:0,totalExp:0,percent:-1}),r()};exports.init=c;
},{"./views.js":"tbdy","./model.js":"JDu1"}],"A2T1":[function(require,module,exports) {
"use strict";var r=require("./controller.js");(0,r.init)();
},{"./controller.js":"niua"}]},{},["A2T1"], null)
//# sourceMappingURL=/app.6e9f2aab.js.map